import{ref as e,computed as o,watch as t,defineComponent as n,onMounted as s,onBeforeUnmount as l,openBlock as i,createBlock as c,renderSlot as a}from"vue";var r={observeElement:function(e,o,t){console.log(e);const n=(e=>function(o){o.forEach((o=>{e(o)}))})(o);new IntersectionObserver(n,t).observe(e)}};let u;var d={detectScrollDirection:function(e){let o=window.pageYOffset,t=!1;u=()=>{const n=window.pageYOffset||document.documentElement.scrollTop;t||(window.requestAnimationFrame((()=>{e(o,n),o=n<=0?0:n,t=!1})),t=!0)},window.addEventListener("scroll",u)},removeEventListener:function(){window.removeEventListener("scroll",u)}};const v=e(!1),p=e("down");let f,w,m;const g=o((()=>{let e="";return"string"==typeof f&&(e=f),"object"==typeof f&&(e="down"===p.value?f.down:f.up),e}));const L=(e,o)=>{p.value=o<e?"up":"down",e=o<=0?0:o},E=e=>{e.isIntersecting?(m.classList.add(g.value),v.value=!0):v.value=!1};var b={apply:function(e,o,n){console.log(e,o,n),f=o,w=n,m=e,r.observeElement(m,E),d.detectScrollDirection(L),t([v,p],((e,o)=>{const[t,n]=e;w||"string"!=typeof f?t?"object"==typeof f&&""!==f.up&&""!==f.down&&(console.log("isBiDirectional"),f=f,"up"===n&&(m.classList.remove(f.down),m.classList.add(g.value)),"down"===n&&(m.classList.remove(f.up),m.classList.add(g.value))):(console.log("Not in view"),m.classList.remove(g.value)):console.log("No Repeat & isDirectionAgnostic: false")}))},cleanup:function(){d.removeEventListener()}},y=n({name:"AnimateInView",props:{threshold:{type:Number,default:10},animation:{type:[String,Object],default:"fadeInSlide"},repeat:{type:Boolean,default:!1}},setup(o){const t=e();return s((()=>{console.log(t.value),b.apply(t.value,o.animation,o.repeat)})),l((()=>b.cleanup())),{target:t}}});const D={class:"transition-all duration-1000",ref:"target"};y.render=function(e,o,t,n,s,l){return i(),c("div",D,[a(e.$slots,"default")],512)},y.__file="src/components/AnimateInView.vue";var I={observeElement:function(e,o,t){console.log(e);const n=(e=>function(o){o.forEach((o=>{e(o)}))})(o);new IntersectionObserver(n,t).observe(e)}};let O;var A={detectScrollDirection:function(e){let o=window.pageYOffset,t=!1;O=()=>{const n=window.pageYOffset||document.documentElement.scrollTop;t||(window.requestAnimationFrame((()=>{e(o,n),o=n<=0?0:n,t=!1})),t=!0)},window.addEventListener("scroll",O)},removeEventListener:function(){window.removeEventListener("scroll",O)}};const S=e(!1),j=e("down");let N,h,Y;const B=o((()=>{let e="";return"string"==typeof N&&(e=N),"object"==typeof N&&(e="down"===j.value?N.down:N.up),e}));const q=(e,o)=>{j.value=o<e?"up":"down",e=o<=0?0:o},F=e=>{e.isIntersecting?(Y.classList.add(B.value),S.value=!0):S.value=!1};var R={apply:function(e,o,n){console.log(e,o,n),N=o,h=n,Y=e,I.observeElement(Y,F),A.detectScrollDirection(q),t([S,j],((e,o)=>{const[t,n]=e;h||"string"!=typeof N?t?"object"==typeof N&&""!==N.up&&""!==N.down&&(console.log("isBiDirectional"),N=N,"up"===n&&(Y.classList.remove(N.down),Y.classList.add(B.value)),"down"===n&&(Y.classList.remove(N.up),Y.classList.add(B.value))):(console.log("Not in view"),Y.classList.remove(B.value)):console.log("No Repeat & isDirectionAgnostic: false")}))},cleanup:function(){A.removeEventListener()}};const T={mounted(e,o){const t=o.value,n=o.modifiers.repeat||!1;R.apply(e,t,n)},beforeUnmount(){R.cleanup()}};var V={install:(e,o)=>{e.directive("animate-inview",T),e.component("animate-in-view",y)}};export default V;
