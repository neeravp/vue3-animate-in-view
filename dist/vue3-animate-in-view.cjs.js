"use strict";var e=require("vue");var t={observeElement:function(e,t,n){console.log(e);const o=(e=>function(t){t.forEach((t=>{e(t)}))})(t);new IntersectionObserver(o,n).observe(e)}};let n;var o={detectScrollDirection:function(e){let t=window.pageYOffset,o=!1;n=()=>{const n=window.pageYOffset||document.documentElement.scrollTop;o||(window.requestAnimationFrame((()=>{e(t,n),t=n<=0?0:n,o=!1})),o=!0)},window.addEventListener("scroll",n)},removeEventListener:function(){window.removeEventListener("scroll",n)}};const i=e.ref(!1),l=e.ref("down");let s,r,a;const c=e.computed((()=>{let e="";return"string"==typeof s&&(e=s),"object"==typeof s&&(e="down"===l.value?s.down:s.up),e}));const u=(e,t)=>{l.value=t<e?"up":"down",e=t<=0?0:t},d=e=>{e.isIntersecting?(a.classList.add(c.value),i.value=!0):i.value=!1};var p={apply:function(n,p,v){console.log(n,p,v),s=p,r=v,a=n,t.observeElement(a,d),o.detectScrollDirection(u),e.watch([i,l],((e,t)=>{const[n,o]=e;r||"string"!=typeof s?n?"object"==typeof s&&""!==s.up&&""!==s.down&&(console.log("isBiDirectional"),s=s,"up"===o&&(a.classList.remove(s.down),a.classList.add(c.value)),"down"===o&&(a.classList.remove(s.up),a.classList.add(c.value))):(console.log("Not in view"),a.classList.remove(c.value)):console.log("No Repeat & isDirectionAgnostic: false")}))},cleanup:function(){o.removeEventListener()}},v=e.defineComponent({name:"AnimateInView",props:{threshold:{type:Number,default:10},animation:{type:[String,Object],default:"fadeInSlide"},repeat:{type:Boolean,default:!1}},setup(t){const n=e.ref();return e.onMounted((()=>{console.log(n.value),p.apply(n.value,t.animation,t.repeat)})),e.onBeforeUnmount((()=>p.cleanup())),{target:n}}});const f={class:"transition-all duration-1000",ref:"target"};v.render=function(t,n,o,i,l,s){return e.openBlock(),e.createBlock("div",f,[e.renderSlot(t.$slots,"default")],512)},v.__file="src/AnimateInView.vue";const m={mounted(e,t){const n=t.value,o=t.modifiers.repeat||!1;p.apply(e,n,o)},beforeUnmount(){p.cleanup()}},w={install:(e,t)=>{e.directive("animate-inview",m),e.component("animate-in-view",v)}};module.exports=w;
