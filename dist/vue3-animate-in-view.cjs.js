"use strict";var e=require("vue");var o={observeElement:function(e,o,n){console.log(e);const t=(e=>function(o){o.forEach((o=>{e(o)}))})(o);new IntersectionObserver(t,n).observe(e)}};let n;var t={detectScrollDirection:function(e){let o=window.pageYOffset,t=!1;n=()=>{const n=window.pageYOffset||document.documentElement.scrollTop;t||(window.requestAnimationFrame((()=>{e(o,n),o=n<=0?0:n,t=!1})),t=!0)},window.addEventListener("scroll",n)},removeEventListener:function(){window.removeEventListener("scroll",n)}};const s=e.ref(!1),l=e.ref("down");let i,r,c;const a=e.computed((()=>{let e="";return"string"==typeof i&&(e=i),"object"==typeof i&&(e="down"===l.value?i.down:i.up),e}));const u=(e,o)=>{l.value=o<e?"up":"down",e=o<=0?0:o},d=e=>{e.isIntersecting?(c.classList.add(a.value),s.value=!0):s.value=!1};var v={apply:function(n,v,p){console.log(n,v,p),i=v,r=p,c=n,o.observeElement(c,d),t.detectScrollDirection(u),e.watch([s,l],((e,o)=>{const[n,t]=e;r||"string"!=typeof i?n?"object"==typeof i&&""!==i.up&&""!==i.down&&(console.log("isBiDirectional"),i=i,"up"===t&&(c.classList.remove(i.down),c.classList.add(a.value)),"down"===t&&(c.classList.remove(i.up),c.classList.add(a.value))):(console.log("Not in view"),c.classList.remove(a.value)):console.log("No Repeat & isDirectionAgnostic: false")}))},cleanup:function(){t.removeEventListener()}},p=e.defineComponent({name:"AnimateInView",props:{threshold:{type:Number,default:10},animation:{type:[String,Object],default:"fadeInSlide"},repeat:{type:Boolean,default:!1}},setup(o){const n=e.ref();return e.onMounted((()=>{console.log(n.value),v.apply(n.value,o.animation,o.repeat)})),e.onBeforeUnmount((()=>v.cleanup())),{target:n}}});const f={class:"transition-all duration-1000",ref:"target"};p.render=function(o,n,t,s,l,i){return e.openBlock(),e.createBlock("div",f,[e.renderSlot(o.$slots,"default")],512)},p.__file="src/components/AnimateInView.vue";var m={observeElement:function(e,o,n){console.log(e);const t=(e=>function(o){o.forEach((o=>{e(o)}))})(o);new IntersectionObserver(t,n).observe(e)}};let w;var g={detectScrollDirection:function(e){let o=window.pageYOffset,n=!1;w=()=>{const t=window.pageYOffset||document.documentElement.scrollTop;n||(window.requestAnimationFrame((()=>{e(o,t),o=t<=0?0:t,n=!1})),n=!0)},window.addEventListener("scroll",w)},removeEventListener:function(){window.removeEventListener("scroll",w)}};const L=e.ref(!1),E=e.ref("down");let b,y,D;const I=e.computed((()=>{let e="";return"string"==typeof b&&(e=b),"object"==typeof b&&(e="down"===E.value?b.down:b.up),e}));const O=(e,o)=>{E.value=o<e?"up":"down",e=o<=0?0:o},S=e=>{e.isIntersecting?(D.classList.add(I.value),L.value=!0):L.value=!1};var h={apply:function(o,n,t){console.log(o,n,t),b=n,y=t,D=o,m.observeElement(D,S),g.detectScrollDirection(O),e.watch([L,E],((e,o)=>{const[n,t]=e;y||"string"!=typeof b?n?"object"==typeof b&&""!==b.up&&""!==b.down&&(console.log("isBiDirectional"),b=b,"up"===t&&(D.classList.remove(b.down),D.classList.add(I.value)),"down"===t&&(D.classList.remove(b.up),D.classList.add(I.value))):(console.log("Not in view"),D.classList.remove(I.value)):console.log("No Repeat & isDirectionAgnostic: false")}))},cleanup:function(){g.removeEventListener()}};const A={mounted(e,o){const n=o.value,t=o.modifiers.repeat||!1;h.apply(e,n,t)},beforeUnmount(){h.cleanup()}};var B={install:(e,o)=>{e.directive("animate-inview",A),e.component("animate-in-view",p)}};module.exports=B;
